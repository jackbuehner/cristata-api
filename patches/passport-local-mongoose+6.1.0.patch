diff --git a/node_modules/passport-local-mongoose/lib/authenticate.js b/node_modules/passport-local-mongoose/lib/authenticate.js
index 7acea78..b2d41a0 100644
--- a/node_modules/passport-local-mongoose/lib/authenticate.js
+++ b/node_modules/passport-local-mongoose/lib/authenticate.js
@@ -48,15 +48,15 @@ function authenticate(user, password, options, cb) {
       if (options.limitAttempts) {
         user.set(options.lastLoginField, Date.now());
         user.set(options.attemptsField, 0);
-        user.save(function(saveErr, user) {
-          if (saveErr) {
-            return cb(saveErr);
-          }
-          return cb(null, user);
-        });
-      } else {
-        return cb(null, user);
       }
+      // add local method to the user's methods
+      user.set('methods', Array.from(new Set([...(user.methods || []), 'local'])));
+      user.save(function(saveErr, user) {
+        if (saveErr) {
+          return cb(saveErr);
+        }
+        return cb(null, {...user.toObject(), provider: 'local'});
+      });
     } else {
       if (options.limitAttempts) {
         user.set(options.lastLoginField, Date.now());
